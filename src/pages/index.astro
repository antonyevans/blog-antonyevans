---
import Layout from '../layouts/Layout.astro';
import SiteHeader from '../components/SiteHeader.astro';
import SiteFooter from '../components/SiteFooter.astro';
import PostCard from '../components/PostCard.astro';
import { getPublishedPosts } from '../lib/content';

const posts = await getPublishedPosts();
const latest = posts.slice(0, 3);
---

<Layout title="Antony Evans" description="DTC operator turned AI builder. Writing on agentic commerce and the future of DTC.">
  <SiteHeader />
  <main class="container home">
    <section class="hero surface">
      <p class="eyebrow">DTC operator &middot; AI builder</p>
      <h1>What happens when AI becomes the commerce layer.</h1>
      <p>7 years scaling consumer brands. Now building AI systems. Writing at the intersection â€” for operators who want the structural view, not the ChatGPT-for-email take.</p>
      <p class="cta-row">
        <a class="chip" href="/blog/">Read the writing</a>
        <a class="chip" href="/about/">About me</a>
      </p>
    </section>

    <section>
      <div class="section-head">
        <h2>Latest posts</h2>
        <a href="/blog/">View all</a>
      </div>
      <div class="grid">
        {latest.map((post) => <PostCard post={post} />)}
      </div>
    </section>
  </main>
  <SiteFooter />
</Layout>

<style>
  .home { padding: 2rem 0; display: grid; gap: 2rem; }
  .hero { padding: clamp(1.2rem, 3vw, 2rem); }
  .eyebrow { margin: 0; text-transform: uppercase; letter-spacing: 0.08em; color: var(--muted); }
  h1 { margin: 0.5rem 0; font-size: clamp(2rem, 5vw, 3.3rem); max-width: 20ch; }
  .hero p { max-width: 58ch; color: var(--muted); }
  .cta-row { display: flex; gap: 0.6rem; }
  .section-head { display: flex; justify-content: space-between; align-items: baseline; }
  .section-head h2 { margin: 0; }
  .grid { display: grid; gap: 0.8rem; }
</style>
